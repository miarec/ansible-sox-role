---
## Installation options
sox_install_from_source: true  # If true, the source for the version will be downloaded and compiled

# sox_install_formats:
#   - wav
#   - mp3

# sox_optional_formats:
#   - ogg
#   - flac

### Package Installation Options
sox_package_base:
  - sox
  - libsox-fmt-base
  - libsox-fmt-mp3

# These additional packages will be installed
# when key is included in sox_install_formats
# multiple package names can be included
# Debian only,  additional format support for centos requires compile
sox_package_optional_formats_config: {}
  # oss:
  #   packages: [libsox-fmt-oss]
  # alsa:
  #   packages: [libsox-fmt-alsa]
  # ao:
  #   packages: [libsox-fmt-ao]
  # pulse:
  #   packages: [libsox-fmt-pulse]

### Install from Source-  Installation options

# # Sox will be compiled with these additional flags
# # when key is included in sox_install_formats
sox_compile_optional_formats_config: {}
  # ogg:
  #   configure_args: "--with-oggvorbis"
  #   libraries: [libogg, libvorbis]
  # flac:
  #   configure_args: "--with-flac"
  #   libraries: [flac]

sox_compile_optional_configure_args: []
# Supply a list of additional arguments to  be supplied when ./configure is ran
# See ./configure --help for more
# ex.
# - "--with-pulseaudio"
# - "--libdir=/usr/local/lib"


compile_default_download_dir: /tmp
compile_default_install_dir: /usr/local/lib
compile_default_download_cleanup: true

sox_compile_base_library_config:
  lame:
    version: 3.99.5
    download_url: "https://downloads.sourceforge.net/project/lame/lame/3.99/lame-3.99.5.tar.gz"
    download_checksum: "sha1:03a0bfa85713adcc6b3383c12e2cc68a9cfbf4c4"
    download_dir: "{{ compile_default_download_dir }}"
    download_cleanup: "{{ compile_default_download_cleanup }}"
    configure_args: "--bindir={{ compile_default_install_dir }} --enable-nasm"
    install_dir: "{{ compile_default_install_dir }}"
    library_file: "libmp3lame.a"
  libmad:
    version: 0.15.1b
    download_url: "https://downloads.sourceforge.net/project/mad/libmad/0.15.1b/libmad-0.15.1b.tar.gz"
    download_dir: "{{ compile_default_download_dir }}"
    download_checksum: "sha1:cac19cd00e1a907f3150cc040ccc077783496d76"
    download_cleanup: "{{ compile_default_download_cleanup }}"
    configure_args:
    install_dir: "{{ compile_default_install_dir }}"
    library_file: "libmad.a"

# Consider order of operation,  example libvorbis needs libogg so libogg needs to be first
sox_compile_optional_library_config: {}
  # flac:
  #   version: 1.3.2
  #   download_url: "https://ftp.osuosl.org/pub/xiph/releases/flac/flac-1.3.2.tar.xz"
  #   download_dir: "{{ compile_default_download_dir }}"
  #   download_checksum: "sha1:2bdbb56b128a780a5d998e230f2f4f6eb98f33ee"
  #   download_cleanup: true
  #   configure_args:
  #   install_dir: "{{ compile_default_install_dir }}"
  #   library_file: "libFLAC.so"
  # libogg:
  #   version: 1.3.3
  #   download_url: "http://ftp.osuosl.org/pub/xiph/releases/ogg/libogg-1.3.3.tar.gz"
  #   download_dir: "{{ compile_default_download_dir }}"
  #   download_checksum: "sha1:28ba40fd2e2d41988f658a0016fa7b534e509bc0"
  #   download_cleanup: "{{ compile_default_download_cleanup }}"
  #   configure_args:
  #   install_dir: "{{ compile_default_install_dir }}"
  #   library_file: "libogg.a"
  # libvorbis:
  #   version: 1.3.6
  #   download_url: "https://ftp.osuosl.org/pub/xiph/releases/vorbis/libvorbis-1.3.6.tar.xz"
  #   download_dir: "{{ compile_default_download_dir }}"
  #   download_checksum: "sha1:237e3d1c66452734fd9b32f494f44238b4f0185e"
  #   download_cleanup: "{{ compile_default_download_cleanup }}"
  #   configure_args: "--bindir={{ compile_default_install_dir }} --libdir={{ compile_default_install_dir }}"
  #   install_dir: "{{ compile_default_install_dir }}"
  #   library_file: "libvorbis.a"

sox_compile_additional_library_config: {}
  # libvorbis:
  #   version: 1.3.6
  #   download_url: "https://ftp.osuosl.org/pub/xiph/releases/vorbis/libvorbis-1.3.6.tar.xz"
  #   download_dir: "{{ compile_default_download_dir }}"
  #   download_checksum: "sha1:237e3d1c66452734fd9b32f494f44238b4f0185e"
  #   download_cleanup: true
  #   configure_args: "--bindir={{ compile_default_install_dir }} --libdir={{ compile_default_install_dir }}"
  #   install_dir: "{{ compile_default_install_dir }}"
  #   library_file: "libvorbis.a"

### Compile Options
sox_version: 14.4.2
# libmad_version: 0.15.1b
# lame_version: 3.99.5
# libogg_version: 1.3.3
# libvorbis_version: 1.3.6
# flac_version: 1.3.2

sox_download_url: "https://downloads.sourceforge.net/project/sox/sox/{{ sox_version }}/sox-{{ sox_version }}.tar.gz"
# libmad_download_url: "https://downloads.sourceforge.net/project/mad/libmad/{{ libmad_version }}/libmad-{{ libmad_version }}.tar.gz"
# libogg_download_url: "http://ftp.osuosl.org/pub/xiph/releases/ogg/libogg-{{ libogg_version }}.tar.gz"
# libvorbis_download_url: "https://ftp.osuosl.org/pub/xiph/releases/vorbis/libvorbis-{{ libvorbis_version }}.tar.xz"


# flac_download_url: "https://ftp.osuosl.org/pub/xiph/releases/flac/flac-{{ flac_version }}.tar.xz"


# # Translate full lame_version (3.99.5) to the MAJOR.MINOR value, like "3.99"
# lame_download_url: "https://downloads.sourceforge.net/project/lame/lame/{{ lame_version|regex_replace('(\\d+\\.\\d+)\\..*$', '\\1') }}/lame-{{ lame_version }}.tar.gz"

sox_verify_checksum: true
# libmad_verify_checksum: true
# lame_verify_checksum: true
# libogg_verify_checksum: true
# libvorbis_verify_checksum: true
# flac_verify_checksum: true

sox_download_dir: /tmp
# libmad_download_dir: /tmp
# lame_download_dir: /tmp
# libogg_download_dir: /tmp
# libvorbis_download_dir: /tmp
# flac_download_dir: /tmp

sox_install_dir: /usr/local/bin
# lame_install_dir: /usr/local/lib
# libmad_install_dir: /usr/local/lib
# libogg_install_dir: /usr/local/lib
# libvorbis_install_dir: /usr/local/lib
# flac_install_dir: /usr/local/lib

# whether or not to delete the downloaded source code. By setting it
# to false and using a custom var for `sox_download_dir` a kind of
# local caching can be achieved.
sox_cleanup_downloads: true
# libmad_cleanup_downloads: true
# lame_cleanup_downloads: true
# libogg_cleanup_downloads: true
# libvorbis_cleanup_downloads: true
# flac_cleanup_downloads: true
